/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/setstumultime_screen/setStumulTimeViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

setStumulTimeViewBase::setStumulTimeViewBase() :
    updateItemCallback(this, &setStumulTimeViewBase::updateItemCallbackHandler),
    buttonCallback(this, &setStumulTimeViewBase::buttonCallbackHandler)
{
    __background.setPosition(0, 0, 240, 280);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUND_ID));
    add(background);

    scrollWheel1.setPosition(22, 56, 197, 148);
    scrollWheel1.setHorizontal(false);
    scrollWheel1.setCircular(false);
    scrollWheel1.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    scrollWheel1.setSwipeAcceleration(12);
    scrollWheel1.setDragAcceleration(12);
    scrollWheel1.setNumberOfItems(3);
    scrollWheel1.setSelectedItemOffset(53);
    scrollWheel1.setOvershootPercentage(75);
    scrollWheel1.setSelectedItemExtraSize(0, 0);
    scrollWheel1.setSelectedItemMargin(0, 0);
    scrollWheel1.setDrawableSize(46, 0);
    scrollWheel1.setDrawables(scrollWheel1ListItems, updateItemCallback,
    
                          scrollWheel1SelectedListItems, updateItemCallback);
    scrollWheel1.animateToItem(1, 0);
    add(scrollWheel1);

    scrollwheel_contour_image.setXY(22, 107);
    scrollwheel_contour_image.setBitmap(touchgfx::Bitmap(BITMAP_SELECTLINE_ID));
    add(scrollwheel_contour_image);

    stimulationtime_label.setPosition(0, 6, 240, 48);
    stimulationtime_label.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    stimulationtime_label.setLinespacing(0);
    stimulationtime_label.setTypedText(touchgfx::TypedText(T_STUMULTIME_LABEL));
    add(stimulationtime_label);

    batteryprogress_container1.setXY(0, 0);
    add(batteryprogress_container1);

    lte_status_container1.setXY(0, 0);
    add(lte_status_container1);

    stimultime_done_button.setXY(48, 210);
    stimultime_done_button.setBitmaps(touchgfx::Bitmap(BITMAP_RECTANGLE_14_ID), touchgfx::Bitmap(BITMAP_RECTANGLEPRESSED_ID));
    stimultime_done_button.setAction(buttonCallback);
    add(stimultime_done_button);

    textArea2.setPosition(48, 217, 144, 28);
    textArea2.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea2.setLinespacing(0);
    textArea2.setTypedText(touchgfx::TypedText(T___SINGLEUSE_87G3));
    add(textArea2);
}

setStumulTimeViewBase::~setStumulTimeViewBase()
{

}

void setStumulTimeViewBase::setupScreen()
{
    scrollWheel1.initialize();
    for (int i = 0; i < scrollWheel1ListItems.getNumberOfDrawables(); i++)
    {
        scrollWheel1ListItems[i].initialize();
    }
    for (int i = 0; i < scrollWheel1SelectedListItems.getNumberOfDrawables(); i++)
    {
        scrollWheel1SelectedListItems[i].initialize();
    }
    batteryprogress_container1.initialize();
    lte_status_container1.initialize();
}

void setStumulTimeViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &stimultime_done_button)
    {
        //gotoStartStimulScreen
        //When stimultime_done_button clicked change screen to startStimul
        //Go to startStimul with no screen transition
        application().gotostartStimulScreenNoTransition();
    }
}

void setStumulTimeViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &scrollWheel1ListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        setting_stimul_time_notselected* cc = (setting_stimul_time_notselected*)d;
        scrollWheel1UpdateItem(*cc, itemIndex);
    }
    if (items == &scrollWheel1SelectedListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        setting_stimul_time_selected* cc = (setting_stimul_time_selected*)d;
        scrollWheel1UpdateCenterItem(*cc, itemIndex);
    }
}
